<div ng-include="'components/navbar/navbar.html'"></div>

<header class="hero-unit" id="banner">
  <div class="container">
    <h1>We list your ads!</h1>
    <p class="lead">A vulnerable Node.js app</p>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Current Ads</h1>
      <ul ng-repeat="ad in ads">
        <li>
          <span class="text-muted">{{ad.createdOn | date : short}} {{ad.creator.name}}</span>
          <span ng-bind-html="ad.text"></span>
          <span ng-switch="ad.published">
              <div ng-switch-when="true">
                Public under <a href="{{publishedUrl(ad)}}">{{publishedUrl(ad) | limitTo : 100}}...</a>
              </div>
              <button ng-switch-default class="btn btn-default" ng-click="publish(ad)">Publish</button>
              
            </span>
        </li>
      </ul>
    </div>
  </div>

  <div class="row">
    <form class="thing-form">
      <label>Submit an ad. You can use some HTML tags to format it.</label>
      <p class="input-group">
        <textarea placeholder="Enter Ad Text" ng-model="newAd" cols="80" rows="10"></textarea>
      </p>
      <span class="input-group-btn">
    <button type="submit" class="btn btn-default" ng-click="preview()">Preview Ad</button>
    <button type="submit" class="btn btn-primary" ng-click="submitAd()">Submit Ad</button>
    </span>
    </form>
  </div>

  <div class="row" ng-if="previewText">
    <label>Preview</label>
    <div class="col-lg-12">
      <ul class="nav nav-tabs">
        <li>
          <a href="#">
            <span ng-bind-html="previewText"></span>
          </a>
        </li>
      </ul>
    </div>

  </div>

</div>

<div ng-include="'components/footer/footer.html'"></div>